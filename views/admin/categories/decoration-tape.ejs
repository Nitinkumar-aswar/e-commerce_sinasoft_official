<%- include("../navbar.ejs") %>

<form action="/admin/save_decoration_tape"
      method="POST"
      enctype="multipart/form-data"
      class="w-100">

  <div class="container-fluid bg-white p-3">

    <div class="row">
      <div class="col-12 mb-3">
        <h1>Add Decoration Tape / Reflective Rolls</h1>
      </div>

      <!-- Title -->
      <div class="col-md-6 mb-3">
        <label>Title</label>
        <input type="text"
               name="tape_title"
               class="form-control"
               placeholder="Enter tape title"
               required>
      </div>

      <!-- Heading -->
      <div class="col-md-6 mb-3">
        <label>Heading</label>
        <input type="text"
               name="tape_heading"
               class="form-control"
               placeholder="Enter short heading"
               required>
      </div>

      <!-- Price -->
      <div class="col-md-6 mb-3">
        <label>Price (₹)</label>
        <input type="number"
               name="price"
               class="form-control"
               step="0.01"
               placeholder="Enter price"
               required>
      </div>

      <!-- Image -->
      <div class="col-md-6 mb-3">
        <label>Image</label>
        <input type="file"
               name="tape_image"
               accept="image/*"
               class="form-control"
               required>
      </div>

      <!-- Hidden Category -->
      <input type="hidden" name="category" value="decoration-tape">

      <!-- Button -->
      <div class="col-12 text-end">
        <button class="btn btn-primary">
          Save Decoration Tape
        </button>
      </div>

    </div>
  </div>
</form>











<div class="container-fluid bg-white p-3">
  <div class="row mb-3">
    <div class="col-6">
      <h3>Decoration Tape (Reflective Rolls)</h3>
    </div>
    <div class="col-6 text-end">
    
    </div>
  </div>

  <table class="table table-bordered table-hover align-middle">
    <thead class="table-white">
      <tr>
        <th width="160">Action</th>
        <th>Sr.No</th>
        <th>Title</th>
        <th>Heading</th>
        <th>Price</th>
        <th>Category</th>
        <th>Image</th>
      </tr>
    </thead>

    <tbody>
      <% if(decoration_tape.length > 0){ %>
        <% decoration_tape.forEach((i, index) => { %>
          <tr>

            <!-- ACTION FIRST -->
            <td>
              <a href="/admin/edit_decoration_tape/<%= i.tape_id %>"
                 class="btn btn-sm btn-primary mb-1">
                 <i class="fa-solid fa-pen-to-square"></i>
              </a>
              <a href="/admin/delete_decoration_tape/<%= i.tape_id %>"
                 onclick="return confirm('Delete this tape?')"
                 class="btn btn-sm btn-danger">
                <i class="fa-solid fa-trash"></i>
              </a>
            </td>

            <td><%= index + 1 %></td>
            <td><%= i.tape_title %></td>
            <td><%= i.tape_heading %></td>
            <td>₹ <%= i.price %></td>
            <td><%= i.category %></td>

            <!-- IMAGE LAST -->
            <td>
              <% if(i.tape_image){ %>
                <img src="/upload/<%= i.tape_image %>" width="70">
              <% } else { %>
                No Image
              <% } %>
            </td>

          </tr>
        <% }) %>
      <% } else { %>
        <tr>
          <td colspan="7" class="text-center text-danger">
            No Decoration Tape Found
          </td>
        </tr>
      <% } %>
    </tbody>
  </table>
</div>

<%- include("../footer.ejs") %>
