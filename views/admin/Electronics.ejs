<%- include("navbar.ejs") %>

<form action="/admin/save_electronics" method="POST" enctype="multipart/form-data" class="w-100">
  <div class="container-fluid bg-white p-3">

    <div class="row">
      <div class="col-12 mb-3">
        <h1>Add Electronics</h1>
      </div>
    </div>

    <div class="row">

      <!-- Title -->
      <div class="col-md-6 mb-3">
        <label>Electronics Title</label>
        <input type="text" name="electronics_title" class="form-control" required>
      </div>

      <!-- Brand / Heading -->
      <div class="col-md-6 mb-3">
        <label>Electronics Brand / Heading</label>
        <input type="text" name="electronics_brand" class="form-control">
      </div>

      <!-- Price -->
      <div class="col-md-6 mb-3">
        <label>Price</label>
        <input type="number" name="electronics_price" class="form-control">
      </div>

      <!-- Image -->
      <div class="col-md-6 mb-3">
        <label>Image</label>
        <input type="file" name="electronics_img" accept="image/*" class="form-control">
      </div>

      <!-- Description -->
      <div class="col-md-12 mb-3">
        <label>Description</label>
        <textarea name="electronics_desc" class="form-control" rows="3"></textarea>
      </div>

      <!-- Submit -->
      <div class="col-12 text-end">
        <button type="submit" class="btn btn-primary">
          Save Electronics
        </button>
      </div>

    </div>
  </div>
</form>













<div class="container-fluid p-3">
  <div class="row">
    <div class="col-md-12">
      <h3>Electronics List</h3>
    </div>

    <div class="col-md-12">
      <div class="table-responsive">
        <table class="table table-bordered table-striped align-middle">
          <thead>
            <tr>
              <th>Action</th>
              <th>Sr. No.</th>
              <th>Title</th>
              <th>Brand / Heading</th>
              <th>Description</th>
              <th>Price</th>
              <th>Image</th>
            </tr>
          </thead>

          <tbody>
            <% let sr = 1; %>
            <% electronics.forEach((e) => { %>
              <tr>

                <!-- Action -->
                <td class="text-center">
                 <!-- Edit -->
<a href="/admin/edit_electronics/<%= e.id %>" class="btn btn-sm btn-warning">
  <i class="fa-solid fa-pen-to-square"></i>
</a>

<!-- Delete -->
<a href="/admin/delete_electronics/<%= e.id %>"
   class="btn btn-sm btn-danger"
   onclick="return confirm('Are you sure you want to delete this record?')">
   <i class="fa-solid fa-trash"></i>
</a>

                </td>

                <!-- Data -->
                <td><%= sr++ %></td>
                <td><%= e.title %></td>
                <td><%= e.brand %></td>
                <td><%= e.description %></td>
                <td>â‚¹ <%= e.price %></td>

                <!-- Image -->
                <td>
                  <% if(e.img){ %>
                    <img src="/upload/<%= e.img %>" width="60" alt="Electronics Image">
                  <% } else { %>
                    No Image
                  <% } %>
                </td>

              </tr>
            <% }) %>
          </tbody>

        </table>
      </div>
    </div>
  </div>
</div>

<%- include("footer.ejs") %>
