<style>
/* ======================
   ORDERS HEADER
====================== */
.orders-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  gap: 10px;
  flex-wrap: wrap;
}

/* ======================
   TABLE BASE
====================== */
.table-wrapper {
  width: 100%;
  overflow-x: auto;   /* ðŸ‘ˆ mobile scroll */
}

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  min-width: 650px;   /* ðŸ‘ˆ mobile me break na ho */
}

th, td {
  padding: 12px;
  border-bottom: 1px solid #e0e0e0;
  text-align: left;
  white-space: nowrap;
}

th {
  background: #f5f5f5;
  font-weight: 600;
}

/* ======================
   STATUS BADGES
====================== */
.status {
  padding: 5px 12px;
  border-radius: 14px;
  font-size: 12px;
  font-weight: 600;
  display: inline-block;
  text-transform: uppercase;
}

/* ðŸŸ¢ PLACED */
.status.PLACED {
  background: #e6f4ea;
  color: #137333;
}

/* ðŸ”µ CONFIRMED */
.status.CONFIRMED {
  background: #e8f0fe;
  color: #1a73e8;
}

/* ðŸŸ  SHIPPED */
.status.SHIPPED {
  background: #fff4e5;
  color: #b45309;
}

/* ðŸŸ¡ OUT FOR DELIVERY */
.status.OUT_FOR_DELIVERY {
  background: #fff7ed;
  color: #c2410c;
}

/* âœ… DELIVERED */
.status.DELIVERED {
  background: #dcfce7;
  color: #166534;
}

/* ðŸ”´ CANCELLED */
.status.CANCELLED {
  background: #fee2e2;
  color: #991b1b;
}

/* ======================
   VIEW BUTTON
====================== */
.view-btn {
  padding: 6px 14px;
  background: #2874f0;
  color: #ffffff;
  border-radius: 4px;
  text-decoration: none;
  font-size: 13px;
  font-weight: 500;
  display: inline-block;
}

.view-btn:hover {
  background: #1f5fd6;
  color: #ffffff;
}

/* ======================
   MOBILE RESPONSIVE
====================== */
@media (max-width: 768px) {

  .orders-header {
    flex-direction: column;
    align-items: flex-start;
  }

  table {
    font-size: 13px;
  }

  th, td {
    padding: 10px;
  }

  .view-btn {
    padding: 6px 10px;
    font-size: 12px;
  }

  .status {
    font-size: 11px;
    padding: 4px 10px;
  }
}
</style>

<div class="orders-header">
  <h2>Orders</h2>

  <form method="GET" action="/admin/orders" style="position:relative;">
    <input
      type="text"
      name="search"
      autocomplete="off"
      placeholder="Search Order ID / Mobile / Name"
      value="<%= search || '' %>"
      style="padding:8px 32px 8px 12px; width:260px; border:1px solid #ccc; border-radius:4px;"
    />

    <% if (search && search.length > 0) { %>
      <a
        href="/admin/orders"
        title="Clear search"
        style="
          position:absolute;
          right:8px;
          top:50%;
          transform:translateY(-50%);
          text-decoration:none;
          font-size:16px;
          color:#999;
          font-weight:bold;
        "
      >
        Ã—
      </a>
    <% } %>
  </form>
</div>



<table>
  <thead>
    <tr>
      <th>Order ID</th>
      <th>Customer</th>
      <th>Mobile</th>
      <th>Total Items</th>
      <th>Payment</th>
      <th>Order Status</th>
      <th>Action</th>
    </tr>
  </thead>

<tbody>
  <% if (!orders || orders.length === 0) { %>
    <tr>
      <td colspan="7" style="text-align:center;">No orders found</td>
    </tr>
  <% } else { %>
    <% orders.forEach(order => { %>
      <tr>
        <td><%= order.order_id %></td>

        <td>
          <%= order.user_first_name %> <%= order.user_last_name %>
        </td>

        <td><%= order.user_mobile %></td>

        <td><%= order.total_items %></td>

        <td>
          <%= order.payment_method %> /
          <%= order.payment_status %>
        </td>

        <td>
          <span class="status <%= order.order_status %>">
            <%= order.order_status %>
          </span>
        </td>

        <td>
          <a href="/admin/orders/<%= order.order_id %>" class="view-btn">
  View
</a>

        </td>
      </tr>
    <% }) %>
  <% } %>
</tbody>

</table>
